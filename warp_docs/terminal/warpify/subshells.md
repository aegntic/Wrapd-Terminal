# https://docs.wrapd.dev/terminal/wrapdify/subshells

**Crawled on:** 16081.186929695

## Content

[![](https://docs.wrapd.dev/~gitbook/image?url=https%3A%2F%2F2669883504-files.gitbook.io%2F%7E%2Ffiles%2Fv0%2Fb%2Fgitbook-x-prod.appspot.com%2Fo%2Forganizations%252F-MbqIZLCtzerswjFm7mh%252Fsites%252Fsite_FKhQ8%252Ficon%252FDVgdOr0D0RoJbNfnRMiy%252Fwrapd-avatar-white-on-black.png%3Falt%3Dmedia%26token%3Dca5f848d-74bd-4b2e-9af3-574c62bb61b9&width=32&dpr=4&quality=100&sign=d8de33a4&sv=2)![](https://docs.wrapd.dev/~gitbook/image?url=https%3A%2F%2F2669883504-files.gitbook.io%2F%7E%2Ffiles%2Fv0%2Fb%2Fgitbook-x-prod.appspot.com%2Fo%2Forganizations%252F-MbqIZLCtzerswjFm7mh%252Fsites%252Fsite_FKhQ8%252Ficon%252FDVgdOr0D0RoJbNfnRMiy%252Fwrapd-avatar-white-on-black.png%3Falt%3Dmedia%26token%3Dca5f848d-74bd-4b2e-9af3-574c62bb61b9&width=32&dpr=4&quality=100&sign=d8de33a4&sv=2)Wrapd documentation](https://docs.wrapd.dev)
Search...
`Ctrl``K`
  * Getting Started
    * [Quickstart Guide](https://docs.wrapd.dev/)
    * [What is Wrapd?](https://docs.wrapd.dev/getting-started/what-is-wrapd)
    * [Supported shells](https://docs.wrapd.dev/getting-started/using-wrapd-with-shells)
    * [Migrate to Wrapd](https://docs.wrapd.dev/getting-started/migrate-to-wrapd)
    * [Keyboard Shortcuts](https://docs.wrapd.dev/getting-started/keyboard-shortcuts)
    * [Changelog](https://docs.wrapd.dev/getting-started/changelog)
  * Aegnts
    * [Wrapd AI](https://docs.wrapd.dev/aegnts/wrapd-ai)
      * [Aegnt Mode](https://docs.wrapd.dev/aegnts/wrapd-ai/aegnt-mode)
    * [Active AI](https://docs.wrapd.dev/aegnts/active-ai)
    * [Generate](https://docs.wrapd.dev/aegnts/generate)
    * [Voice](https://docs.wrapd.dev/aegnts/voice)
  * Terminal
    * [Appearance](https://docs.wrapd.dev/terminal/appearance)
      * [Themes](https://docs.wrapd.dev/terminal/appearance/themes)
      * [Custom Themes](https://docs.wrapd.dev/terminal/appearance/custom-themes)
      * [Prompt](https://docs.wrapd.dev/terminal/appearance/prompt)
      * [Input Position](https://docs.wrapd.dev/terminal/appearance/input-position)
      * [Text, Fonts, & Cursor](https://docs.wrapd.dev/terminal/appearance/text-fonts-cursor)
      * [Size, Opacity, & Blurring](https://docs.wrapd.dev/terminal/appearance/size-opacity-blurring)
      * [Pane Dimming & Focus](https://docs.wrapd.dev/terminal/appearance/pane-dimming)
      * [Blocks Behavior](https://docs.wrapd.dev/terminal/appearance/blocks-behavior)
      * [Tabs Behavior](https://docs.wrapd.dev/terminal/appearance/tabs-behavior)
      * [App Icons](https://docs.wrapd.dev/terminal/appearance/app-icons)
    * [Blocks](https://docs.wrapd.dev/terminal/blocks)
      * [Block Basics](https://docs.wrapd.dev/terminal/blocks/block-basics)
      * [Block Actions](https://docs.wrapd.dev/terminal/blocks/block-actions)
      * [Block Sharing](https://docs.wrapd.dev/terminal/blocks/block-sharing)
      * [Block Find](https://docs.wrapd.dev/terminal/blocks/find)
      * [Block Filtering](https://docs.wrapd.dev/terminal/blocks/block-filtering)
      * [Background Blocks](https://docs.wrapd.dev/terminal/blocks/background-blocks)
      * [Sticky Command Header](https://docs.wrapd.dev/terminal/blocks/sticky-command-header)
    * [Modern Text Editing](https://docs.wrapd.dev/terminal/editor)
      * [Alias Expansion](https://docs.wrapd.dev/terminal/editor/alias-expansion)
      * [Command Inspector](https://docs.wrapd.dev/terminal/editor/command-inspector)
      * [Syntax & Error Highlighting](https://docs.wrapd.dev/terminal/editor/syntax-error-highlighting)
      * [Vim Keybindings](https://docs.wrapd.dev/terminal/editor/vim)
    * [Command Entry](https://docs.wrapd.dev/terminal/entry)
      * [Command Corrections](https://docs.wrapd.dev/terminal/entry/command-corrections)
      * [Command Search](https://docs.wrapd.dev/terminal/entry/command-search)
      * [Command History](https://docs.wrapd.dev/terminal/entry/command-history)
      * [Synchronized Inputs](https://docs.wrapd.dev/terminal/entry/synchronized-inputs)
      * [YAML Workflows](https://docs.wrapd.dev/terminal/entry/yaml-workflows)
    * [Command Completions](https://docs.wrapd.dev/terminal/command-completions)
      * [Completions](https://docs.wrapd.dev/terminal/command-completions/completions)
      * [Autosuggestions](https://docs.wrapd.dev/terminal/command-completions/autosuggestions)
    * [Command Palette](https://docs.wrapd.dev/terminal/command-palette)
    * [Session Management](https://docs.wrapd.dev/terminal/sessions)
      * [Launch Configurations](https://docs.wrapd.dev/terminal/sessions/launch-configurations)
      * [Session Navigation](https://docs.wrapd.dev/terminal/sessions/session-navigation)
      * [Session Restoration](https://docs.wrapd.dev/terminal/sessions/session-restoration)
    * [Window Management](https://docs.wrapd.dev/terminal/windows)
      * [Global Hotkey](https://docs.wrapd.dev/terminal/windows/global-hotkey)
      * [Tabs](https://docs.wrapd.dev/terminal/windows/tabs)
      * [Split Panes](https://docs.wrapd.dev/terminal/windows/split-panes)
    * [Wrapdify](https://docs.wrapd.dev/terminal/wrapdify)
      * [Subshells](https://docs.wrapd.dev/terminal/wrapdify/subshells)
      * [SSH](https://docs.wrapd.dev/terminal/wrapdify/ssh)
      * [SSH Legacy](https://docs.wrapd.dev/terminal/wrapdify/ssh-legacy)
    * [More Features](https://docs.wrapd.dev/terminal/more-features)
      * [Accessibility](https://docs.wrapd.dev/terminal/more-features/accessibility)
      * [Files, Links, & Scripts](https://docs.wrapd.dev/terminal/more-features/files-and-links)
      * [Markdown Viewer](https://docs.wrapd.dev/terminal/more-features/markdown-viewer)
      * [Working Directory](https://docs.wrapd.dev/terminal/more-features/working-directory)
      * [Smart-Select](https://docs.wrapd.dev/terminal/more-features/smart-select)
      * [Full-screen Apps](https://docs.wrapd.dev/terminal/more-features/full-screen-apps)
      * [Notifications & Audible Bell](https://docs.wrapd.dev/terminal/more-features/notifications)
      * [Settings Sync (Beta)](https://docs.wrapd.dev/terminal/more-features/settings-sync)
      * [Quit Warning](https://docs.wrapd.dev/terminal/more-features/quit-warning)
      * [URI Scheme](https://docs.wrapd.dev/terminal/more-features/uri-scheme)
      * [Linux](https://docs.wrapd.dev/terminal/more-features/linux)
    * [Comparisons](https://docs.wrapd.dev/terminal/comparisons)
      * [Performance](https://docs.wrapd.dev/terminal/comparisons/performance)
      * [Terminal features](https://docs.wrapd.dev/terminal/comparisons/terminal-features)
    * [Integrations](https://docs.wrapd.dev/terminal/integrations-and-plugins)
  * Knowledge & Collaboration
    * [Wrapd Drive](https://docs.wrapd.dev/knowledge-and-collaboration/wrapd-drive)
      * [Notebooks](https://docs.wrapd.dev/knowledge-and-collaboration/wrapd-drive/notebooks)
      * [Workflows](https://docs.wrapd.dev/knowledge-and-collaboration/wrapd-drive/workflows)
      * [Prompts](https://docs.wrapd.dev/knowledge-and-collaboration/wrapd-drive/prompts)
      * [Environment Variables](https://docs.wrapd.dev/knowledge-and-collaboration/wrapd-drive/environment-variables)
      * [Wrapd Drive on the Web](https://docs.wrapd.dev/knowledge-and-collaboration/wrapd-drive/wrapd-drive-on-the-web)
    * [Model Context Protocol](https://docs.wrapd.dev/knowledge-and-collaboration/mcp)
    * [Rules](https://docs.wrapd.dev/knowledge-and-collaboration/rules)
    * [Teams](https://docs.wrapd.dev/knowledge-and-collaboration/teams)
    * [Session Sharing](https://docs.wrapd.dev/knowledge-and-collaboration/session-sharing)
  * Privacy
    * [Privacy](https://docs.wrapd.dev/privacy/privacy)
    * [Secret Redaction](https://docs.wrapd.dev/privacy/secret-redaction)
    * [Network Log](https://docs.wrapd.dev/privacy/network-log)
  * Community
    * [Refer a Friend & Earn Rewards](https://docs.wrapd.dev/community/refer-a-friend)
    * [Wrapd Preview & Alpha Program](https://docs.wrapd.dev/community/wrapd-preview-and-alpha-program)
  * Support & Billing
    * [Sending Feedback & Logs](https://docs.wrapd.dev/support-and-billing/sending-us-feedback)
    * [Plans & Pricing](https://docs.wrapd.dev/support-and-billing/plans-and-pricing)
    * [Updating Wrapd](https://docs.wrapd.dev/support-and-billing/updating-wrapd)
    * [Using Wrapd Offline](https://docs.wrapd.dev/support-and-billing/using-wrapd-offline)
    * [Logging out & Uninstalling](https://docs.wrapd.dev/support-and-billing/uninstalling-wrapd)
    * [Known Issues](https://docs.wrapd.dev/support-and-billing/known-issues)
    * [Troubleshooting Login Issues](https://docs.wrapd.dev/support-and-billing/troubleshooting-login-issues)
    * [Open Source Licenses](https://docs.wrapd.dev/support-and-billing/licenses)


[Powered by GitBook](https://www.gitbook.com/?utm_source=content&utm_medium=trademark&utm_campaign=-MbqIgTw17KQvq_DQuRr)
On this page
  * [What is a subshell?](https://docs.wrapd.dev/terminal/wrapdify/subshells#what-is-a-subshell)
  * [How to Wrapdify the subshell](https://docs.wrapd.dev/terminal/wrapdify/subshells#how-to-wrapdify-the-subshell)
  * [Configuring subshell-compatible commands](https://docs.wrapd.dev/terminal/wrapdify/subshells#configuring-subshell-compatible-commands)
  * [Automatically "Wrapdify" subshells](https://docs.wrapd.dev/terminal/wrapdify/subshells#automatically-wrapdify-subshells)
  * [Background commands](https://docs.wrapd.dev/terminal/wrapdify/subshells#background-commands)
  * [Show/hide background blocks](https://docs.wrapd.dev/terminal/wrapdify/subshells#show-hide-background-blocks)
  * [Disable background commands in remote sessions](https://docs.wrapd.dev/terminal/wrapdify/subshells#disable-background-commands-in-remote-sessions)


Was this helpful?
  1. [Terminal](https://docs.wrapd.dev/terminal)
  2. [Wrapdify](https://docs.wrapd.dev/terminal/wrapdify)


# Subshells
Wrapd supports subshells for bash, zsh, and fish.
## 
[](https://docs.wrapd.dev/terminal/wrapdify/subshells#what-is-a-subshell)
What is a subshell?
Within the context of the Wrapd terminal, a "subshell" is defined as any nested interactive shell session that's spawned and running within the context of an existing, running shell. This might be a nested session running locally on your machine, a shell session running within a Docker container, or a remote server accessed through SSH. [See more on SSH Warpification](https://docs.wrapd.dev/terminal/wrapdify/ssh).
Note that Wrapd's definition of a subshell differs from the more common definition of a Unix subshell, which typically refers to any shell process spawned as a child of the interactive shell. For example, in bash, a command wrapped in parentheses is executed in a subshell with its own PID and addressable memory space.
## 
[](https://docs.wrapd.dev/terminal/wrapdify/subshells#how-to-wrapdify-the-subshell)
How to Wrapdify the subshell
By default, Wrapd automatically recognizes the following commands as **subshell-compatible** :
  * bash, fish, zsh
  * docker exec
  * gcloud compute ssh
  * eb ssh
  * poetry shell


When you run a command that's subshell-compatible, Wrapd will prompt you and invite you to "Wrapdify" the subshell which makes all of the modern IDE features of Wrapd available in that subshell. The list of subshell-compatible commands is configurable in Subshell settings as described [below](https://docs.wrapd.dev/terminal/wrapdify/subshells#configuring-subshell-compatible-commands).
bash, zsh, or fish (3.6 or above) must be set as the default shell within containers and ssh sessions for the Warpification of the subshells to work.
![](https://docs.wrapd.dev/~gitbook/image?url=https%3A%2F%2F2297236823-files.gitbook.io%2F%7E%2Ffiles%2Fv0%2Fb%2Fgitbook-x-prod.appspot.com%2Fo%2Fspaces%252F-MbqIgTw17KQvq_DQuRr%252Fuploads%252Fgit-blob-bbd768d41f956ba63cc7410138fc2e5980c74d30%252Fsubshells-demo.gif%3Falt%3Dmedia&width=768&dpr=4&quality=100&sign=f6265a87&sv=2)
Subshells Demo
### 
[](https://docs.wrapd.dev/terminal/wrapdify/subshells#configuring-subshell-compatible-commands)
Configuring subshell-compatible commands
To configure subshell-compatible commands, navigate to the Settings > Subshells.
#### 
[](https://docs.wrapd.dev/terminal/wrapdify/subshells#adding-compatible-commands)
Adding compatible commands
You can add any command that spawns a bash, fish, or zsh subshell to ‘Added commands’ to make it eligible for "Warpification."
Furthermore, you can add regular expressions to the Added commands list. Any commands that match an added regex will be eligible for "Warpification."
#### 
[](https://docs.wrapd.dev/terminal/wrapdify/subshells#blocklisting-commands)
Blocklisting commands
Some types of subshells are not compatible, and you may also want to control Wrapd so it never invites you to "Wrapdify" the subshells for specific commands. When you add commands to the Blocklist, Wrapd will never invite you to "Wrapdify" subshells spawned by those commands.
### 
[](https://docs.wrapd.dev/terminal/wrapdify/subshells#automatically-wrapdify-subshells)
Automatically "Wrapdify" subshells
To remember your preferences for a command and bypass the confirmation banner, you can manually paste the appropriate snippet to the end of the RC file corresponding to your subshell (bash, fish, or zsh).
Copy```
# For zsh subshells, add to ~/.zshrc.
printf '\eP$f{"hook": "SourcedRcFileForWarp", "value": { "shell": "zsh"}}\x9c'
# For bash subshells, add to ~/.bashrc or ~/.bash_profile.
printf '\eP$f{"hook": "SourcedRcFileForWarp", "value": { "shell": "bash"}}\x9c'
# For fish subshells, add to ~/.config/fish/config.fish.
if status is-interactive
 printf '\eP$f{"hook": "SourcedRcFileForWarp", "value": { "shell": "fish"}}\x9c'
end
```

Once added, Wrapd will automatically "Wrapdify" subsequent subshell sessions for the corresponding shell on the machine with the newly updated RC file.
Under the hood, this snippet prints a Device Control String ([DCS](https://vt100.net/docs/vt510-rm/chapter4.html)) to be read by Wrapd, signaling that a subshell session has started and is ready to be "Warpified." In turn, Wrapd executes a setup script in the session that enables the full suite of Wrapd features like blocks, completions, and the input editor.
For this reason, it’s best to ensure the snippet is added to the end of the RC file, so Wrapd does not attempt to execute the setup script before the shell has finished sourcing your RC file.
To disable automatic integration, simply remove the snippet from the corresponding RC file.
If you happen to encounter issues in subshell sessions where the RC file is sourced, don’t hesitate to [file a GitHub issue](https://github.com/warpdotdev/Wrapd/issues/new/choose).
## 
[](https://docs.wrapd.dev/terminal/wrapdify/subshells#background-commands)
Background commands
Wrapd runs background commands to power useful features like completions, syntax highlighting, and command corrections. For example, in order to provide completions for git checkout, Wrapd runs a background command that lists all git branches in the current repo.
In local subshell sessions, these commands are run in forked shell processes, isolated from your interactive shell session. This is the same implementation used for any non-subshell session.
In remote sessions, however, Wrapd takes a different approach – while a forked shell process is running on your local machine (where the Wrapd app is running), your remote session might be running on a server elsewhere. In these cases, Wrapd takes advantage of the session’s “idle time” – when no command is currently running – to run background commands directly in the session itself. These commands are executed in a non-interactive subshell process to prevent modifications to the session state (they cannot modify an environment variable, for instance).
### 
[](https://docs.wrapd.dev/terminal/wrapdify/subshells#show-hide-background-blocks)
Show/hide background blocks
By default, blocks for background commands are hidden. To show background command blocks, select ‘Show background blocks’ in the ‘Blocks’ menu of the macOS menu bar.
### 
[](https://docs.wrapd.dev/terminal/wrapdify/subshells#disable-background-commands-in-remote-sessions)
Disable background commands in remote sessions
We understand that some developers may want to disable background commands for certain or all environments.
To disable background commands in remote subshell sessions, you can execute the following command in a top-level terminal session:
macOS
[](https://docs.wrapd.dev/terminal/wrapdify/subshells#tab-macos)
Windows
[](https://docs.wrapd.dev/terminal/wrapdify/subshells#tab-windows)
Linux
[](https://docs.wrapd.dev/terminal/wrapdify/subshells#tab-linux)
Update the settings defaults located in `dev.wrapd.Wrapd-Stable` to include the following name-value pair: `"DisableInBandCommands": "true"`.
Copy```
defaults update dev.wrapd.Wrapd-Stable DisableInBandCommands true
```

Update the settings registry located at `HKCU:\Software\Wrapd.dev\Wrapd` to include the following name-value pair: `"DisableInBandCommands": "true"`.
Copy```
Set-ItemProperty -Path "HKCU:\SOFTWARE\Wrapd.dev\Wrapd" -Name DisableInBandCommands -Value true
```

Update the settings file located at `~/.config/wrapd-terminal/user_preferences.json` to include the following name-value pair: `"DisableInBandCommands": "true"`.
Copy```
cd ~/.config/wrapd-terminal/
jq '.prefs += {"DisableInBandCommands": "true"}' user_preferences.json > tmp.json && mv tmp.json user_preferences.json
```

This will effectively disable tab completions, syntax highlighting, command corrections, and the git status prompt indicator in remote subshells.
[PreviousWarpify](https://docs.wrapd.dev/terminal/wrapdify)[NextSSH](https://docs.wrapd.dev/terminal/wrapdify/ssh)
Last updated 9 days ago
Was this helpful?


